#!/bin/bash
# Guia de Execu√ß√£o de Testes K6

echo "üß™ GUIA DE TESTES K6"
echo "==================="

echo ""
echo "üìã TIPOS DE TESTE DISPON√çVEIS:"
echo ""
echo "1Ô∏è‚É£  SMOKE TEST (Verifica√ß√£o B√°sica)"
echo "   - 1 usu√°rio virtual"
echo "   - 1 minuto de dura√ß√£o"
echo "   - Verifica se a API funciona"
echo "   Comando: k6 run k6-tests/smoke-test.js"
echo ""

echo "2Ô∏è‚É£  LOAD TEST (Teste de Carga Normal)"
echo "   - 10 usu√°rios virtuais"
echo "   - 5 minutos de dura√ß√£o"
echo "   - Simula uso normal"
echo "   Comando: k6 run k6-tests/load-test.js"
echo ""

echo "3Ô∏è‚É£  STRESS TEST (Teste de Estresse)"
echo "   - At√© 100 usu√°rios virtuais"
echo "   - 15 minutos de dura√ß√£o"
echo "   - Encontra ponto de quebra"
echo "   Comando: k6 run k6-tests/stress-test.js"
echo ""

echo "4Ô∏è‚É£  SPIKE TEST (Teste de Picos)"
echo "   - Picos s√∫bitos at√© 100 usu√°rios"
echo "   - Testa recupera√ß√£o da aplica√ß√£o"
echo "   Comando: k6 run k6-tests/spike-test.js"
echo ""

echo "üìä EXECUTAR COM MONITORAMENTO:"
echo "   Adicione: --out influxdb=http://localhost:8086/k6"
echo "   Exemplo: k6 run --out influxdb=http://localhost:8086/k6 k6-tests/load-test.js"
echo ""

echo "üéØ M√âTRICAS IMPORTANTES:"
echo ""
echo "   üìà http_req_duration: Tempo de resposta"
echo "      - avg: Tempo m√©dio"
echo "      - p(95): 95% das requisi√ß√µes"
echo "      - p(99): 99% das requisi√ß√µes"
echo ""
echo "   üìä http_req_failed: Taxa de erro"
echo "      - Deve ser < 5% em condi√ß√µes normais"
echo ""
echo "   üöÄ http_reqs: Requisi√ß√µes por segundo"
echo "      - Throughput da aplica√ß√£o"
echo ""
echo "   üë• vus: Usu√°rios virtuais ativos"
echo "      - Carga atual no sistema"
echo ""

echo "üîç COMO ANALISAR RESULTADOS:"
echo ""
echo "   ‚úÖ Verde: Teste passou nos thresholds"
echo "   ‚ùå Vermelho: Teste falhou nos thresholds"
echo ""
echo "   üìã Checks: Verifica√ß√µes de funcionalidade"
echo "   üìä HTTP: M√©tricas de performance"
echo "   ‚ö° Custom: M√©tricas personalizadas"
echo ""

echo "üé® GRAFANA (Visualiza√ß√£o):"
echo "   URL: http://localhost:3001"
echo "   Usu√°rio: admin"
echo "   Senha: admin"
echo ""
echo "   üìä Dashboard personalizado dispon√≠vel"
echo "   üìà Gr√°ficos em tempo real"
echo "   üîî Alertas configur√°veis"